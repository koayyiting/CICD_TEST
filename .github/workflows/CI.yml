#Trigger when there is a push to main
name: Continuous Integration
on:
  push:
  
jobs:
  # Set up necessary installs
  Build_SetUp:
    name: Build SetUp
    runs-on: ubuntu-latest
    steps:
      - name: Set Up Go
        uses: actions/setup-go@v5  # Setup Go after checkout
        with:
          go-version: '1.21.x'
          cache-dependency-path: subdir/go.sum
          
  TDD_Test:
    name: Running TDD test cases
    runs-on: ubuntu-latest
    needs: Build_SetUp
    steps:
      # [Edit] Retrieving from Development Repository
      - name: Checkout Development
        uses: actions/checkout@v4
      - name: Install dependencies
        run: |
          go mod download

      - name: Go Test Action
        uses: robherley/go-test-action@v0.1.0

      - name: Checkout Test Repo
        uses: actions/checkout@v4
        with:
          repository: DevOpsTeamB2023/DevOps_Oct2023_TeamB_Testing


      
